---
import Layout from '~/layouts/PageLayout.astro';

import Aim from '~/components/widgets/Aim.astro';
import Team from '~/components/widgets/Team.astro';
import i18next, { t } from 'i18next';
import Video from '~/components/react/Video';
import Services from '~/components/widgets/Services.astro';
import { NAV_LINKS_MAP } from '~/constants/commons';
import Dna from '~/components/widgets/Dna.astro';
import References from '~/components/widgets/References.astro';

export function getStaticPaths() {
  return i18next.languages.map((item) => ({
    params: { lang: item },
  }));
}

const { lang } = Astro.params;
await i18next.changeLanguage(lang);

const metadata = {
  title: t('title'),
};
---

<Layout metadata={metadata}>
  <Video
    client:idle
    id={NAV_LINKS_MAP.HOME.href.replace('#', '')}
    noSupport={t('video.noSupport')}
    discover={t('video.discover')}
    creative={t('video.creative')}
    community={t('video.community')}
    culture={t('video.culture')}
  />

  <Aim id={NAV_LINKS_MAP.ABOUT.href.replace('#', '')} />

  <Services id={NAV_LINKS_MAP.SERVICES.href.replace('#', '')} />

  <References id={NAV_LINKS_MAP.REFERENCES.href.replace('#', '')} />

  <Team id={NAV_LINKS_MAP.TEAM.href.replace('#', '')} />

  <Dna id={NAV_LINKS_MAP.DNA.href.replace('#', '')} />
</Layout>
